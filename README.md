# ğŸ¤– Cinematrix ML â€“ Recommendation System

This repository contains the **machine learning and data processing components** of **Cinematrix**, a movie recommendation system designed to work as a **secure, standalone microservice**.

The ML system is responsible for generating **personalized movie recommendations** using a **content-based filtering approach**, optimized for **efficiency, scalability, speed and minimal recomputation**.

---

## ğŸ“Œ Purpose of This Repository

This repository focuses exclusively on:

- Data preprocessing and feature engineering
- Movie vector construction and storage
- User preference modeling
- Recommendation generation using cosine similarity
- Exposing recommendations via a **FastAPI-based REST API**

The **application logic, frontend, and database management** are handled in a separate repository.

---

## ğŸ§  Recommendation Approach

Cinematrix ML uses a **content-based recommendation system**.

Rather than relying on user-to-user similarity, recommendations are generated by comparing:

- a **user preference vector**
- against **precomputed movie feature vectors**

Similarity is measured using **cosine similarity**.

---

## ğŸ¬ Dataset Overview

- Source: **Kaggle (derived from TMDB)**
- Initial dataset size: ~1.36 million movies and TV shows
- Filtered dataset used in ML:
    - **25,000 popular movies** (catalog)
    - **Top 5,000 movies** used for recommendation computation

> TV shows are included in the application catalog but are **not part of the recommendation system** in this repository.

---

## ğŸ§© Feature Engineering

Each movie is represented using a combination of multiple features:

- Cast
- Director
- Genre
- Keywords
- Overview
- Tagline
- Runtime
- Release Year

### Vectorization Strategy

| Feature Type                        | Technique Used   |
| ----------------------------------- | ---------------- |
| Categorical (genre, cast, director) | One-hot encoding |
| Textual (overview, tagline)         | TF-IDF           |
| Numerical (runtime, year)           | Feature scaling  |

All feature vectors are **concatenated into a single combined movie vector**.

---

## âš¡ Precomputation Strategy

To improve runtime efficiency:

- Movie feature vectors are **precomputed offline**
- Stored as **sparse matrices** (`.npz` format)
- Loaded directly by the recommendation API

This avoids repeated vectorization and enables fast similarity computation.

---

## ğŸ‘¤ User Preference Modeling

User preferences are inferred from **explicit and implicit interactions**.

### Interaction Types & Weights

| Interaction      | Weight              |
| ---------------- | ------------------- |
| Click            | 0.5                 |
| Add to Watchlist | 1.0                 |
| Rate Movie       | 2.5 Ã— (rating / 10) |

### User Vector Construction

- Only the **50 most recent interactions** are considered
- For multiple interactions on the same movie, the **highest-priority interaction** is used:
    - Rated > Watchlist > Click

- Movie vectors are weighted based on interaction strength
- Final user vector is a **normalized weighted average**

---

## ğŸ” Recommendation Generation

1. Fetch user interactions from the database
2. Construct a user preference vector
3. Compute cosine similarity against all movie vectors
4. Select top-N most similar movies
5. Return movie IDs as recommendations

Default output size:

- **Top 2000 movies** (ranked by similarity)

---

## ğŸ§Š Cold Start Handling

- No personalized recommendations are generated for new users
- System waits until sufficient interaction data is available
- Popular movies are used as fallback at the application level

---

## ğŸ“Š Evaluation Methodology

Formal quantitative evaluation (precision, recall, etc.) was **out of scope** due to the absence of real user feedback data.

Evaluation was performed **qualitatively** through:

- Demo user accounts
- Controlled interaction testing
- Manual validation of recommendation relevance

---

## ğŸš€ API Overview

The recommendation engine is exposed via a **FastAPI REST service**.

### Endpoint

```
POST /recommend
```

### Request Body

```json
{
    "userId": "string"
}
```

### Security

- Protected using a **custom API secret**
- API key verified via middleware before execution

---

## ğŸ› ï¸ Tech Stack

### Core

- **Python**
- **FastAPI**
- **Scikit-learn**
- **NumPy**
- **Pandas**
- **SciPy (sparse matrices)**

### Development

- Jupyter Notebooks (data processing & experimentation)

---

## ğŸ” Security Considerations

- API access restricted via environment-based secret key
- Prevents unauthorized invocation of the recommendation engine

---

## ğŸ”® Future Improvements

- Separate recommendation pipeline for TV shows
- Hybrid recommendation (content + collaborative filtering)
- Incremental / online learning
- Real-world evaluation with live user feedback
- Vector database integration (FAISS, Milvus)

---

## ğŸ Summary

This repository encapsulates the **entire intelligence layer** of Cinematrix. It demonstrates how careful feature engineering, precomputation, and microservice-based deployment can produce a **fast, scalable, and maintainable recommendation system**.

---

ğŸ“Œ _Cinematrix ML â€” Efficient and fast recommendations, purpose-built._
